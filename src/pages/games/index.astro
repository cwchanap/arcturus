---
import CasinoLayout from '../../layouts/casino.astro';
import GameCard from '../../components/GameCard.astro';

const user = Astro.locals.user;

// If not logged in, redirect to signin
if (!user) {
	return Astro.redirect('/signin');
}

const games = [
	{
		name: "Texas Hold'em Poker",
		image: 'https://images.unsplash.com/photo-1511193311914-0346f16ede32?w=800&h=600&fit=crop',
		players: 1247,
		minBet: 10,
		href: '/games/poker',
		featured: true,
	},
	{
		name: 'Blackjack',
		image: 'https://images.unsplash.com/photo-1596838132731-3301c3fd4317?w=800&h=600&fit=crop',
		players: 892,
		minBet: 5,
		href: '/games/blackjack',
		featured: true,
	},
	{
		name: 'Roulette',
		image: 'https://images.unsplash.com/photo-1596838132731-3301c3fd4317?w=800&h=600&fit=crop',
		players: 654,
		minBet: 1,
		href: '/games/roulette',
	},
	{
		name: 'Baccarat',
		image: 'https://images.unsplash.com/photo-1518676590629-3dcbd9c5a5c9?w=800&h=600&fit=crop',
		players: 432,
		minBet: 25,
		href: '/games/baccarat',
	},
	{
		name: 'Craps',
		image: 'https://images.unsplash.com/photo-1516975080664-ed2fc6a32937?w=800&h=600&fit=crop',
		players: 321,
		minBet: 5,
		href: '/games/craps',
	},
	{
		name: 'Slots',
		image: 'https://images.unsplash.com/photo-1596838132731-3301c3fd4317?w=800&h=600&fit=crop',
		players: 2134,
		minBet: 1,
		href: '/games/slots',
	},
];
---

<CasinoLayout title="Games - Arcturus Casino">
	<!-- Hero Section -->
	<div class="relative overflow-hidden">
		<div class="absolute inset-0 bg-gradient-to-b from-yellow-500/10 to-transparent"></div>
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
			<div class="text-center">
				<h1 class="text-5xl md:text-7xl font-bold mb-6">
					<span
						class="text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-amber-500 to-yellow-600 neon-glow"
					>
						Welcome to the Casino
					</span>
				</h1>
				<p class="text-xl text-slate-300 mb-8 max-w-2xl mx-auto">
					Choose your game and test your luck. The house always wins... or does it?
				</p>

				<!-- Stats -->
				<div class="flex justify-center gap-8 md:gap-16 flex-wrap">
					<div class="text-center">
						<div class="text-4xl font-bold text-yellow-400 mb-1">5,680</div>
						<div class="text-sm text-slate-400 uppercase tracking-wider">Players Online</div>
					</div>
					<div class="text-center">
						<div class="text-4xl font-bold text-yellow-400 mb-1">$2.4M</div>
						<div class="text-sm text-slate-400 uppercase tracking-wider">Total Jackpot</div>
					</div>
					<div class="text-center">
						<div class="text-4xl font-bold text-yellow-400 mb-1">6</div>
						<div class="text-sm text-slate-400 uppercase tracking-wider">Games Available</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Featured Games -->
	<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
		<div class="flex items-center gap-3 mb-8">
			<div class="text-3xl">üî•</div>
			<h2 class="text-3xl font-bold text-white">Featured Games</h2>
		</div>

		<div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-16">
			{games.filter((game) => game.featured).map((game) => <GameCard {...game} />)}
		</div>

		<!-- All Games -->
		<div class="flex items-center gap-3 mb-8">
			<div class="text-3xl">üéÆ</div>
			<h2 class="text-3xl font-bold text-white">All Games</h2>
		</div>

		<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
			{games.map((game) => <GameCard {...game} />)}
		</div>
	</div>

	<!-- Promotions Banner -->
	<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
		<div
			class="bg-gradient-to-r from-yellow-600 via-amber-600 to-yellow-600 rounded-2xl p-8 md:p-12 text-center relative overflow-hidden"
		>
			<div
				class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yLjIxLTEuNzktNC00LTRzLTQgMS43OS00IDQgMS43OSA0IDQgNCA0LTEuNzkgNC00em0wLTEwYzAtMi4yMS0xLjc5LTQtNC00cy00IDEuNzktNCA0IDEuNzkgNCA0IDQgNC0xLjc5IDQtNHoiLz48L2c+PC9nPjwvc3ZnPg==')] opacity-20"
			>
			</div>
			<div class="relative">
				<h3 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4">üéÅ Welcome Bonus</h3>
				<p class="text-xl text-slate-800 mb-6">Get 100% match on your first deposit up to $500!</p>
				<button
					class="bg-slate-900 text-yellow-400 px-8 py-4 rounded-lg font-bold text-lg hover:bg-slate-800 transition-colors"
				>
					CLAIM BONUS
				</button>
			</div>
		</div>
	</div>
</CasinoLayout>
